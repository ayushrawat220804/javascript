<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Salary Calculator - HRA / EA / DA</title>

</head>

<body>
    <main class="card" role="main">
        <h1>Employee Salary Calculator</h1>
        <p class="muted">Enter basic salary (Rs) and click Calculate. Rules:
        <ul>
            <li>If basic &gt; Rs 10000 → HRA = 10% of basic and EA = 30% of basic.</li>
            <li>Otherwise → HRA = Rs 5000 and DA = 30% of basic.</li>
        </ul>
        </p>

        <label for="basic">Basic Salary (Rs)</label>
        <input id="basic" type="number" min="0" step="0.01" placeholder="e.g. 12000">

        <button id="calc">Calculate</button>
        <button id="reset" type="button" style="margin-top:8px;background:#ef4444">Reset</button>

        <div id="output" class="result" aria-live="polite" hidden>
            <!-- Results will be injected here -->
        </div>

        <small class="note">Tip: This is a static HTML + JavaScript file — save as <code>salary_calculator.html</code>
            and open in any browser.</small>
    </main>

    <script>
        // Grab elements
        const basicInput = document.getElementById('basic');
        const calcBtn = document.getElementById('calc');
        const resetBtn = document.getElementById('reset');
        const output = document.getElementById('output');

        function formatRupees(n) {
            return 'Rs ' + Number(n).toLocaleString('en-IN', { maximumFractionDigits: 2, minimumFractionDigits: 2 });
        }

        function calculate() {
            const basicVal = parseFloat(basicInput.value);
            if (Number.isNaN(basicVal) || basicVal < 0) {
                output.hidden = false;
                output.innerHTML = '<strong style="color:#b91c1c">Please enter a valid non-negative basic salary.</strong>';
                return;
            }

            let hra = 0;
            let eaOrDa = 0;
            let eaOrDaLabel = '';

            if (basicVal > 10000) {
                hra = basicVal * 0.10;        // 10% of basic
                eaOrDa = basicVal * 0.30;    // EA = 30% of basic
                eaOrDaLabel = 'EA (30% of basic)';
            } else {
                hra = 5000;                  // fixed HRA
                eaOrDa = basicVal * 0.30;    // DA = 30% of basic
                eaOrDaLabel = 'DA (30% of basic)';
            }

            const gross = basicVal + hra + eaOrDa;

            // Build output HTML
            const html = `
        <div>
            <strong>
                Results
            </strong>
        </div>
        <div style="margin-top:8px">Basic Salary: <strong>${formatRupees(basicVal)}</strong>
        </div>
        <div>HRA: <strong>${formatRupees(hra)}</strong></div>
        <div>${eaOrDaLabel}: <strong>${formatRupees(eaOrDa)}</strong></div>
        <div style="margin-top:8px">Gross Salary: <strong>${formatRupees(gross)}</strong></div>
      `;

            output.hidden = false;
            output.innerHTML = html;
        }

        calcBtn.addEventListener('click', calculate);
        basicInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') calculate(); });

        resetBtn.addEventListener('click', () => {
            basicInput.value = '';
            output.hidden = true;
            output.innerHTML = '';
        });
    </script>
</body>

</html>